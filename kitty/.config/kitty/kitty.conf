# =================================================================================================
# KITTY CONFIGURATION - THE ULTIMATE EDITION
# =================================================================================================
# configuration tuned for visuals and productivity
# refer to kitty docs for full option reference: https://sw.kovidgoyal.net/kitty/conf/

# ========== FONT ==========
# font family with nerd glyph coverage and ligatures
font_family     FiraCode Nerd Font Mono

# default point size for comfortable density
font_size       11.5

# leave weight variants on auto so kitty picks best matches
bold_font        auto
italic_font      auto
bold_italic_font auto

# enable stylistic sets to unlock extra ligatures and glyph variants
font_features FiraCode Nerd Font Mono +ss01 +ss02 +ss03 +ss04 +ss05 +ss06 +ss07 +ss08 +ss09 +ss10

# tweak line height and width for softer spacing
adjust_line_height 110%
adjust_column_width 105%

# ========== THEME ==========
# dark theme tuned for readability and a native feel
# keep coherent palette for tabs, borders, selections

# Main colors
background #191622
foreground #e0e0e0

# Cursor colors
cursor #bb9af7
cursor_text_color background

# Selection colors
selection_background #3e3c59
selection_foreground #e0e0e0

# Full color palette
# black
color0 #1f1d2e
# red
color1 #f7768e
# green
color2 #9ece6a
# yellow
color3 #e0af68
# blue
color4 #7aa2f7
# magenta
color5 #bb9af7
# cyan
color6 #7dcfff
# white
color7 #a9b1d6
# bright black
color8 #414868
# bright red
color9 #f7768e
# bright green
color10 #9ece6a
# bright yellow
color11 #e0af68
# bright blue
color12 #7aa2f7
# bright magenta
color13 #bb9af7
# bright cyan
color14 #7dcfff
# bright white
color15 #c0caf5

# ========== WINDOW ==========
# margins kept modest for tidy splits
window_margin_width  8

# no extra margin for single window
single_window_margin_width 0

# inner padding reduced to feel native and avoid clutter
window_padding_width 10

# background opacity for subtle translucency
background_opacity   0.92

# optional tint, keep near-opaque for legibility
background_tint         0.97

# subtle borders for active/inactive windows
window_border_width  1px
active_border_color #4c4f6a
inactive_border_color #2a2f41
draw_minimal_borders yes

# hide titlebar to look native in tiling
hide_window_decorations titlebar-only

# remember window geometry between runs
remember_window_size yes

# default starting size in cells
initial_window_width 89c
initial_window_height 19c

# ensure base size accommodates splits comfortably
window_min_width 800
window_min_height 600

# slightly dim unfocused text to improve focus
inactive_text_alpha 0.5

# remove remote logo path (kitty expects local files) to avoid errors
# window_logo_path ~/.config/kitty/logo.png
# window_logo_alpha 0.3

# ========== LAYOUT ==========
# stick with splits layout so scripted splits behave consistently
enabled_layouts splits

# smart_split kitten drives all split logic programmatically

# ========== TABS ==========
# muted fade-style tabs to keep chrome subtle
tab_bar_style fade
tab_title_template "{bell_symbol}{activity_symbol}{title}"
tab_bar_margin_width 4.0
tab_bar_margin_height 4.0
tab_separator " | "
tab_bar_min_tabs 1
active_tab_foreground #e0e0e0
active_tab_background #2a273f
inactive_tab_foreground #a9b1d6
inactive_tab_background #1f1d2e

# ========== SCROLLBACK ==========
# scrollback history lines retained per window
scrollback_lines 20000

# disable audio bell to avoid noise
enable_audio_bell no

# visual bell accent color
visual_bell_color #f7768e

# ========== CURSOR ==========
# underline cursor for quick visibility
cursor_shape     underline
cursor_beam_thickness 2.5
cursor_underline_thickness 3.0
cursor_stop_blinking_after 10.0

# ========== ADVANCED SETTINGS ==========
# url styling controls
url_style curly
url_color #7dcfff

# trim trailing spaces on save
strip_trailing_spaces smart

# copy selections to clipboard automatically
copy_on_select yes

# mouse pointer shapes for drag and grab states
pointer_shape_when_dragging arrow
pointer_shape_when_grabbed hand

# ========== SHELL ==========
# pick interactive shell executable
shell /bin/zsh

# enable shell integration helpers
shell_integration auto

# allow remote control commands
allow_remote_control yes

# expose font zoom knobs to scripts via env
env KITTY_FONT_DEFAULT=11.5
env KITTY_FONT_MAX=12.0
env KITTY_FONT_MIN=9.0
env KITTY_FONT_STEP=0.5

# ========== KEYBOARD SHORTCUTS ==========
# open new window in same cwd
map f1 new_window_with_cwd

# open editor in current directory
map f2 launch --cwd=current $EDITOR .

# move window position within layout
map ctrl+shift+up move_window top
map ctrl+shift+down move_window bottom
map ctrl+shift+left move_window left
map ctrl+shift+right move_window right

# focus neighboring split with Alt+Arrows
map alt+left neighboring_window left
map alt+right neighboring_window right
map alt+up neighboring_window up
map alt+down neighboring_window down

# font zoom controls (bounded and reset-aware)
# uses ~/.config/kitty/font-zoom.sh with KITTY_FONT_* envs above
# support both = and + for zoom-in, depending on layout
map ctrl+shift+equal  remote_control_script ~/.config/kitty/font-zoom.sh up
map ctrl+shift+plus   remote_control_script ~/.config/kitty/font-zoom.sh up
map ctrl+shift+minus  remote_control_script ~/.config/kitty/font-zoom.sh down
map ctrl+shift+backspace remote_control_script ~/.config/kitty/font-zoom.sh reset

# split-and-open with Alt+T using smart split (max 4 windows per tab)
# usage: kitten smart_split/main.py <max> <hsplit|vsplit|auto> <split|grow|shrink|close_window|close_tab>
map alt+t kitten kittens/smart_split/main.py 4 auto grow
map alt+shift+t kitten kittens/smart_split/main.py 4 hsplit grow

# shrink back to single-window size before closing via smart split kitten
map alt+c close_window
map alt+shift+c close_tab

# disable unused ctrl+t default binding
map ctrl+t no_op

# open nvim in overlay
map ctrl+shift+h launch --cwd=current --type=overlay nvim

# cycle through layouts
map ctrl+shift+j next_layout

# reload config quickly
map ctrl+alt+r reload_config

# ========== PERFORMANCE ==========
# sync frames to monitor refresh
sync_to_monitor yes

# delay between repaints in ms
repaint_delay 10

# delay before dispatching buffered input
input_delay 3
